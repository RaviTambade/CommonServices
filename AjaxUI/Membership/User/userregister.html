<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Register</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <!--<script src="jquery.min.js"></script> -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

  <script>

    $(document).ready(function() {
        
        
      $('#frm_applicant').submit(function(event) {
         event.preventDefault(); // Prevent default form submission

          // Get values from form fields
          var imageUrl = $('#imgurl').val();
          var aadharId =$('#aadharid').val();
          var firstName =$('#fname').val();
          var lasttName =$('#lname').val();

          var birthDate = $('#birthdate').val();
          console.log(birthDate);

          var gender = $('#gender').val();
          var email=$("#email").val();
          var contact = $('#contact').val();
          var password = $('#password').val();
        
          // Create data object to send via AJAX
          var newData = {
              "imageUrl": imageUrl, 
              "firstName": firstName,
              "lastName": lasttName,
              "birthDate":birthDate,
              "aadharId": aadharId,
              "gender":gender,
              "email":email,
              "contact":contact,
              "password":password
          };
          console.log(JSON.stringify(newData));

           // AJAX GET request to getall data from database
          // AJAX POST request to insert new data
          $.ajax({
              url: ' http://localhost:5000/api/users',
              type: 'POST',
              contentType: 'application/json',
              data: JSON.stringify(newData),
              success: function(data) {
                  console.log('Data inserted:', data);
                  alert("Successfully inserted...");
                 
              },
              error: function(xhr, status, error) {
                  console.error('Error:', status + ': ' + error);
                  //console.log('Data not inserted:', response);
                  alert("not inserted...");
              }
          });
      });
  });

    
  </script>
</head>

<body>
    <h1>User Registration</h1>
    <hr/>

    <form id="frm_applicant">
    <table>
        <tr>
            <td> <label>Image Url : </label></td>
            <td> <input type="text" id="imgurl" name="imgurl" placeholder="Enter Image Url "  /></td>
        </tr>
        <tr>
            <td>  <label>Aadhar ID : </label></td>
            <td> <input type="text" id="imgurl" name="imgurl" placeholder="Enter Image Url "  /></td>
        </tr>


        <tr>
            <td>   <label>First Name : </label></td>
            <td> <input type="text" id="fname" name="fname" placeholder="Enter First Name" /></td>
        </tr>


        <tr>
            <td>   <label>Last Name : </label></td>
            <td> <input type="text" id="lname" name="lname" placeholder="Enter Last Name" /></td>
        </tr>


        <tr>
            <td><label>Birth Date : </label></td>
            <td> <input type="date" id="birthdate" name="birthdate" placeholder="Enter Birth Date" /></td>
        </tr>


        <tr>
            <td><label>Gender : </label></td>
            <td><input type="text" id="gender" name="gender" placeholder="Enter Gender male/female" /> </td>
        </tr>


        <tr>
            <td>     <label>Email : </label></td>
            <td>  <input type="text" id="email" name="email" placeholder="Enter Email Id" />  </td>
        </tr>


        <tr>
            <td> <label>Contact Number : </label></td>
            <td>  <input type="text" id="contact" name="contact" placeholder="Enter Contact Number" />  </td>
        </tr>

        <tr>
            <td>  <label>Password : </label></td>
            <td>  <input type="text" id="password" name="password" placeholder="Enter Password" />    </td>
        </tr>


        <tr>
            <td> <label>Contact Number : </label></td>
            <td>  <input type="text" id="contact" name="contact" placeholder="Enter Contact Number" />  </td>
        </tr>

        <tr>
            <td></td>
            <td> <button type="submit" class="btn btn-primary btn-sm">Submit</button></td>
        </tr>
    </table>
    </form>
</body>