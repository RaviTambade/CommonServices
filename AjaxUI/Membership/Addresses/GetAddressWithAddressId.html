<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Addresses</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>User Addresses</h1>
    <input type="number" id="addressId" placeholder="Enter Address ID">
    <button id="getAddressesBtn">Get Address</button>
    <table id="addressesTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>User ID</th>
                <th>Area</th>
                <th>Landmark</th>
                <th>City</th>
                <th>State</th>
                <th>Pincode</th>
                <th>Address Type</th>
                <th>Contact Number</th>
                <th>Name</th>
            </tr>
        </thead>
        <tbody>
            <!-- Address rows will be inserted here -->
        </tbody>
    </table>
    <script>
        $(document).ready(function() {
            $('#getAddressesBtn').click(function() {
                const addressId = $('#addressId').val();
                if (!addressId) {
                    alert('Please enter an Address ID');
                    return;
                }

                $.ajax({
                    url: `http://localhost:5000/api/addresses/${addressId}`,
                    method: 'GET',
                    success: function(address) {
                        displayAddress(address);
                    },
                    error: function() {
                        console.error('There was a problem with the fetch operation.');
                    }
                });
            });

            function displayAddress(address) {
                const tbody = $('#addressesTable tbody');
                tbody.empty(); // Clear previous data
                const row = $('<tr>');
                row.append($('<td>').text(address.id));
                row.append($('<td>').text(address.userId));
                row.append($('<td>').text(address.area));
                row.append($('<td>').text(address.landMark));
                row.append($('<td>').text(address.city));
                row.append($('<td>').text(address.state));
                row.append($('<td>').text(address.pinCode));
                row.append($('<td>').text(address.addressType));
                row.append($('<td>').text(address.contactNumber));
                row.append($('<td>').text(address.name));
                tbody.append(row);
            }
        });
    </script>
</body>
</html>
